(this["webpackJsonp2048-react"]=this["webpackJsonp2048-react"]||[]).push([[0],{19:function(e,t,a){"use strict";a.r(t);var n=a(0);t.default=function(e){return Object(n.jsx)("div",{className:"rounded h-100 d-flex align-items-center",style:{background:e.background},children:Object(n.jsx)("div",{className:"w-100 text-center font-weight-bold user-select-none",style:{fontSize:"1.5em",color:e.foreground},children:e.value})})}},21:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(2),c=a.n(r),s=a(11),i=a.n(s),o=a(8),u=a(13),l=a(12),d={UP:"UP",DOWN:"DOWN",LEFT:"LEFT",RIGHT:"RIGHT"},h=a(5),j=a(7),f=a(1),b=a(10),v=a(3),O=function e(t,a){Object(h.a)(this,e),this.i=t,this.j=a},g=function(){function e(t){Object(h.a)(this,e),this.cells=[],this.data=new Map;for(var a=0;a<t;a++){for(var n=[],r=0;r<t;r++){var c=new O(a,r);this.data.set(JSON.stringify(c),0),n.push(c)}this.cells.push(n)}}return Object(j.a)(e,[{key:"getCell",value:function(e,t){return this.cells[e][t]}},{key:"getCellValue",value:function(e,t){var a=new O(e,t);return this.data.get(JSON.stringify(a))}},{key:"getValue",value:function(e){return this.data.get(JSON.stringify(e))}},{key:"setValue",value:function(e,t){this.data.set(JSON.stringify(e),t)}},{key:"getRow",value:function(e,t){var a=Object(v.a)(this.cells[e]);return t===d.RIGHT?a.reverse():a}},{key:"getColumn",value:function(e,t){var a=this.cells.map((function(t){return t[e]}));return t===d.DOWN?a.reverse():a}},{key:"addNewValue",value:function(){var e,t=this,a=(e=[]).concat.apply(e,Object(v.a)(this.cells));if(!a.every((function(e){return t.data.get(JSON.stringify(e))>0}))){!function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}}(a);var n,r=a.find((function(e){return 0===t.data.get(JSON.stringify(e))}));r&&this.data.set(JSON.stringify(r),9===(n=10,Math.floor(Math.random()*Math.floor(n)))?4:2)}}},{key:"any",value:function(e){return e&&Object(v.a)(this.data.values).some(e)}},{key:"score",get:function(){var e=Object(v.a)(this.data.values).filter((function(e){return e>2}));return e.length>0?e.reduce((function(e,t){return e+t})):0}},{key:"hasEmptyCells",get:function(){return Object(v.a)(this.data.values).some((function(e){return 0===e}))}}]),e}();var y=Object(b.a)("board"),m=Object(b.a)("colorMap"),w=function(){function e(){Object(h.a)(this,e),Object.defineProperty(this,y,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object(f.a)(this,m)[m]=new Map;for(var t=0;t<11;t++){var a=Math.pow(2,t+1);Object(f.a)(this,m)[m].set(a,e.colors[t])}this.startBoard()}return Object(j.a)(e,[{key:"getBackgroundColor",value:function(e){var t=Object(f.a)(this,m)[m].get(e);return p(t||13484468)}},{key:"getForegroundColor",value:function(e){return p(e<16?7827045:16381682)}},{key:"getCellValue",value:function(e,t){return Object(f.a)(this,y)[y].getCellValue(e,t)}},{key:"startBoard",value:function(){Object(f.a)(this,y)[y]=new g(4),Object(f.a)(this,y)[y].addNewValue(),Object(f.a)(this,y)[y].addNewValue(),this.score=0}},{key:"processMove",value:function(e){for(var t=!1,a=0;a<4;a++)switch(e){case d.UP:case d.DOWN:var n=Object(f.a)(this,y)[y].getColumn(a,e);t=this.moveValuesInRowOrColumn(n)||t;break;case d.LEFT:case d.RIGHT:var r=Object(f.a)(this,y)[y].getRow(a,e);t=this.moveValuesInRowOrColumn(r)||t}t&&Object(f.a)(this,y)[y].addNewValue()}},{key:"moveValuesInRowOrColumn",value:function(e){for(var t=this,a=function(e,t){var a=[],n=e.filter((function(e){return e>0})),r=0,c=n.length;for(;r<c;){var s=n[r];r<c-1&&s===n[r+1]?(a.push(t(s)),r+=2):(a.push(n[r]),r++)}return a}(e.map((function(e){return Object(f.a)(t,y)[y].getValue(e)})),(function(e){var a=e+e;return t.score+=a,a})),n=a.length>0&&a.length!==e.length,r=a.length,c=e.length,s=0;s<c;s++)Object(f.a)(this,y)[y].setValue(e[s],s<r?a[s]:0);return n}},{key:"canMove",get:function(){return Object(f.a)(this,y)[y].hasEmptyCells}}]),e}();function p(e){return"#"+e.toString(16)}w.colors=[15656154,15589576,15905145,16094563,16153695,16145979,15585138,15584353,15583312,15582527,15581731];var x=a(19).default;var k=function(){var e=Object(r.useState)({data:new w}),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(r.useCallback)((function(e){switch(e.keyCode){case 38:h(d.UP);break;case 40:h(d.DOWN);break;case 37:h(d.LEFT);break;case 39:h(d.RIGHT);break;default:return}c({data:a.data})}),[]);Object(r.useEffect)((function(){return window.addEventListener("keyup",s),function(){window.addEventListener("keyup",s)}}),[s]);var i=Object(l.useSwipeable)(Object(o.a)({onSwipedUp:function(e){return h(d.UP)},onSwipedDown:function(e){return h(d.DOWN)},onSwipedLeft:function(e){return h(d.LEFT)},onSwipedRight:function(e){return h(d.RIGHT)}},{delta:10,preventDefaultTouchmoveEvent:!0,trackTouch:!0,trackMouse:!1,rotationAngle:0}));function h(e){a.data.processMove(e),c({data:a.data})}for(var j=[],f=0;f<4;f++){for(var b=[],v=0;v<4;v++){var O=a.data.getCellValue(f,v),g=Object(n.jsx)(x,{value:O>0?O:"",background:a.data.getBackgroundColor(O),foreground:a.data.getForegroundColor(O)});b.push(Object(n.jsx)("td",{children:g},v))}j.push(Object(n.jsx)("tr",{children:b},f))}return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-6 offset-md-3 mt-5",children:[Object(n.jsx)("div",{className:"row justify-content-center",children:Object(n.jsx)("div",{style:{width:"280px"},children:Object(n.jsxs)("div",{className:"row justify-content-between",children:[Object(n.jsx)("div",{className:"col",children:Object(n.jsx)("h1",{className:"app-text-primary",children:Object(n.jsx)("strong",{children:"2048"})})}),Object(n.jsx)("div",{className:"col-auto",children:Object(n.jsxs)("div",{className:"rounded py-2 px-3",style:{background:"#bbada0"},children:[Object(n.jsx)("div",{className:"text-white-50",children:"SCORE"}),Object(n.jsx)("div",{className:"text-white font-weight-bold text-center",style:{fontSize:"1.4em"},children:a.data.score})]})})]})})}),Object(n.jsx)("div",{className:"row justify-content-center mt-4",children:Object(n.jsx)("table",Object(o.a)(Object(o.a)({className:"board-table"},i),{},{children:Object(n.jsx)("tbody",{children:j})}))}),Object(n.jsx)("div",{className:"row justify-content-center mt-4",children:Object(n.jsx)("div",{style:{width:"280px"},children:Object(n.jsxs)("div",{className:"row justify-content-between",children:[Object(n.jsx)("div",{className:"col"}),Object(n.jsx)("div",{className:"col-auto",children:Object(n.jsx)("button",{className:"app-btn",onClick:function(){c({data:new w})},children:"Restart"})})]})})})]})})})};a(20),a(21);i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(k,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.19fd67b0.chunk.js.map